#!/bin/bash

CONFIG="$HOME/.gitmap/config"

case "$1 $2" in
  "config set")
    echo "ğŸ”‘ Enter your GitMap API Key:"
    read -r API_KEY

    if [ -z "$API_KEY" ]; then
      echo "âŒ API Key cannot be empty"
      exit 1
    fi

    cat <<EOF > "$CONFIG"
API_KEY="$API_KEY"
ENDPOINT="https://wrbyuqqtpdrvudgtskaq.supabase.co/functions/v1/commit"
EOF

    echo "âœ… API Key ì €ì¥ ì™„ë£Œ (~/.gitmap/config)"
    ;;

  *)
    echo "GitMap CLI"
    echo ""
    echo "ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´:"
    echo "  gitmap config set   # API Key ì„¤ì •"
    ;;
esac
